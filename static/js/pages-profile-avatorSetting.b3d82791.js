(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-profile-avatorSetting","pages-profile-profileOrder-profileOrder"],{"0e77":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e=240,n=0,r=0,o={props:{pictureSrc:{type:String,required:!0}},data:function(){return{offsetX:0,offsetY:0,img_width:400,img_height:400,img_scaling:1,scale:1,scaleMin:.5,isShow:!0}},watch:{pictureSrc:function(){this.getImgInfo()}},methods:{onShow:function(){this.isShow=!0},onHide:function(){this.isShow=!1},getImgInfo:function(){var t=this;uni.getImageInfo({src:this.pictureSrc,success:function(i){t.img_width=i.width,t.img_height=i.height;var a=uni.getSystemInfoSync(),o=a.windowWidth;a.windowHeight;if(t.img_width<e||t.img_height<e){var s=t.img_width<=t.img_height?t.img_width:t.img_height;t.img_scaling=s/e,t.scaleMin=1}else if(t.img_width>o&&t.img_width<=t.img_height)t.img_scaling=t.img_width/o,t.scaleMin=e/o;else{var c=t.img_width<=t.img_height?t.img_width:t.img_height;t.scaleMin=e/c}t.offsetX=-(t.img_width/t.img_scaling/2-e/2),t.offsetY=-(t.img_height/t.img_scaling/2-e/2),n=t.offsetX,r=t.offsetY}})},movableChange:function(t){n=t.detail.x,r=t.detail.y},movableScale:function(t){n=t.detail.x,r=t.detail.y,this.scale=t.detail.scale},createImg:function(){console.log("点击我了");var t=uni.createCanvasContext("picture-canvas");t.drawImage(this.pictureSrc,n,r,this.img_width/this.img_scaling*this.scale,this.img_height/this.img_scaling*this.scale),t.draw(!1,function(){console.log("截取图片尺寸"),uni.canvasToTempFilePath({destWidth:e/2,destHeight:e/2,canvasId:"picture-canvas",success:function(t){uni.setStorageSync("AvatorImg",t.tempFilePath),uni.navigateBack({})},fail:function(t){console.log("截图失败",t)}})})}}};i.default=o},"11bd":function(t,i,a){"use strict";var e=a("dc59"),n=a.n(e);n.a},"149e":function(t,i,a){},"15a2":function(t,i,a){"use strict";var e=a("caa2"),n=a.n(e);n.a},"16fa":function(t,i,a){"use strict";a.r(i);var e=a("8859"),n=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(i,t,function(){return e[t]})}(r);i["default"]=n.a},"29ee":function(t,i,a){"use strict";var e=a("841b"),n=a.n(e);n.a},"496d":function(t,i,a){"use strict";a.r(i);var e=a("b952"),n=a("c831");for(var r in n)"default"!==r&&function(t){a.d(i,t,function(){return n[t]})}(r);a("11bd");var o=a("2877"),s=Object(o["a"])(n["default"],e["a"],e["b"],!1,null,"635c8eb6",null);i["default"]=s.exports},5718:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("v-uni-view",{staticClass:"topWrapper",class:t.showBottom?"border-bm-big-shadow":""},[a("v-uni-view",{staticClass:"topbar flex justify-between align-center",class:t.noColor?"":"bg-white"},[a("v-uni-view",{staticClass:"left-arrow flex align-center"},[a("v-uni-navigator",{attrs:{"open-type":"navigateBack","hover-class":"none","animation-type":"pop-out","animation-duration":"300"}},[t.isShare?a("v-uni-image",{staticClass:"left-arrow-white",attrs:{src:"/static/images/arrow/left-arrow-white.png"}}):a("v-uni-image",{staticClass:"left-arrow-grey",attrs:{src:"/static/images/topbar/left-arrow-black.png"}})],1)],1),a("v-uni-view",{staticClass:"title text-bold"},[t.isShare?t._e():a("v-uni-text",[t._v(t._s(t.title))])],1),a("v-uni-view",{staticClass:"share"},[t.isShare?a("v-uni-view",{staticClass:"share-icobox"},[a("v-uni-image",{staticClass:"share-icobox-ico",attrs:{src:"/static/images/topbar/share.png"}})],1):t._e()],1)],1)],1)],1)},n=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return n})},6147:function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".statusbar[data-v-0cd34667]{height:0;width:100%;background-color:#f8f8f8}.topview[data-v-0cd34667]{height:0;width:100%;position:fixed;background-color:#f8f8f8;top:0;z-index:999}",""])},6758:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var e={props:{title:String,noColor:Boolean,showBottom:Boolean,isShare:Boolean}};i.default=e},"841b":function(t,i,a){var e=a("ab3c");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("7762f26e",e,!0,{sourceMap:!1,shadowMode:!1})},8649:function(t,i,a){"use strict";a.r(i);var e=a("de17"),n=a("16fa");for(var r in n)"default"!==r&&function(t){a.d(i,t,function(){return n[t]})}(r);var o=a("2877"),s=Object(o["a"])(n["default"],e["a"],e["b"],!1,null,"71e99c54",null);i["default"]=s.exports},8859:function(t,i,a){"use strict";var e=a("288e");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e(a("bef1")),r=e(a("be7b")),o=e(a("496d")),s={components:{pictureTailor:o.default,topBar:r.default,topStatus:n.default}};i.default=s},"8ad5":function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,".picture-tailor[data-v-635c8eb6]{position:fixed;top:0;left:0;bottom:0;right:0;width:100%;height:100%;background-color:#000;-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%);-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease;visibility:hidden}.picture-tailor-show[data-v-635c8eb6]{-webkit-transform:translateY(0)!important;-ms-transform:translateY(0)!important;transform:translateY(0)!important;visibility:visible}\r\n\r\n/* 拖动域的位置和大小 */.picture-tailor .picture-area[data-v-635c8eb6]{width:240px;height:240px;position:absolute;\r\n\t/* 使其居中定位 */top:calc(50% - 120px);left:calc(50% - 120px)}\r\n\r\n/* 拖动控件的大小 */.picture-area .picture-view[data-v-635c8eb6]{min-width:240px;min-height:240px}\r\n\r\n/* 中间选择框的大小，本意是视觉上模拟拖动域 */.select-box[data-v-635c8eb6]{position:absolute;top:calc(50% - 120px);left:calc(50% - 120px);width:240px;height:240px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:50%;border:#fff 1px solid;pointer-events:none}.button-view[data-v-635c8eb6]{position:absolute;bottom:20px;right:20px;width:60px;background-color:#007aff;font-size:14px;color:#fff}\r\n\r\n/* 画布大小，画布大小就是截取的原始大小 */.canvas-view[data-v-635c8eb6]{width:240px;height:240px;visibility:hidden}",""])},"9c74":function(t,i,a){"use strict";a.r(i);var e=a("149e"),n=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(i,t,function(){return e[t]})}(r);i["default"]=n.a},ab3c:function(t,i,a){i=t.exports=a("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* .show-bottom {\r\n\t\r\n\tbox-shadow: 0 10px 5px 0px #f1f1f1;\r\n\tmargin-bottom: 5px;\r\n} */.topWrapper[data-v-86aa01a4]{height:%?100?%;width:100%;position:relative;margin-bottom:%?20?%}.topbar[data-v-86aa01a4]{position:fixed;height:%?100?%;width:100%;z-index:9;padding:%?30?% %?20?%}.topbar .left-arrow[data-v-86aa01a4]{height:%?40?%;width:%?40?%}.topbar .left-arrow .left-arrow-white[data-v-86aa01a4]{height:%?40?%;width:%?40?%}.topbar .left-arrow .left-arrow-grey[data-v-86aa01a4]{height:%?28?%;width:%?28?%}.topbar .title[data-v-86aa01a4]{height:%?40?%;font-family:MicrosoftYaHei;font-size:%?32?%;font-weight:700;font-stretch:normal;letter-spacing:%?0?%;color:#011b1b;line-height:%?40?%}.topbar .share[data-v-86aa01a4]{height:%?40?%;width:%?40?%}.topbar .share .share-icobox .share-icobox-ico[data-v-86aa01a4]{height:%?40?%;width:%?40?%}',""])},b952:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{staticClass:"picture-tailor",class:{"picture-tailor-show":t.isShow}},[a("v-uni-movable-area",{staticClass:"picture-area"},[a("v-uni-movable-view",{staticClass:"picture-view",style:{width:t.img_width/t.img_scaling+"px",height:t.img_height/t.img_scaling+"px"},attrs:{direction:"all",x:t.offsetX,y:t.offsetY,scale:"true","scale-min":t.scaleMin},on:{change:function(i){i=t.$handleEvent(i),t.movableChange(i)},scale:function(i){i=t.$handleEvent(i),t.movableScale(i)}}},[a("v-uni-image",{style:{width:t.img_width/t.img_scaling+"px",height:t.img_height/t.img_scaling+"px"},attrs:{src:t.pictureSrc}})],1)],1),a("v-uni-view",{staticClass:"select-box"}),a("v-uni-button",{staticClass:"button-view",on:{click:function(i){i=t.$handleEvent(i),t.createImg(i)}}},[t._v("完成")]),a("v-uni-canvas",{staticClass:"canvas-view",attrs:{"canvas-id":"picture-canvas"}})],1)},n=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return n})},be7b:function(t,i,a){"use strict";a.r(i);var e=a("5718"),n=a("f337");for(var r in n)"default"!==r&&function(t){a.d(i,t,function(){return n[t]})}(r);a("29ee");var o=a("2877"),s=Object(o["a"])(n["default"],e["a"],e["b"],!1,null,"86aa01a4",null);i["default"]=s.exports},bef1:function(t,i,a){"use strict";a.r(i);var e=a("ddf8"),n=a("9c74");for(var r in n)"default"!==r&&function(t){a.d(i,t,function(){return n[t]})}(r);a("15a2");var o=a("2877"),s=Object(o["a"])(n["default"],e["a"],e["b"],!1,null,"0cd34667",null);i["default"]=s.exports},c831:function(t,i,a){"use strict";a.r(i);var e=a("0e77"),n=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(i,t,function(){return e[t]})}(r);i["default"]=n.a},caa2:function(t,i,a){var e=a("6147");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("d82ba2f2",e,!0,{sourceMap:!1,shadowMode:!1})},dc59:function(t,i,a){var e=a("8ad5");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("e79d7e2e",e,!0,{sourceMap:!1,shadowMode:!1})},ddf8:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view")},n=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return n})},de17:function(t,i,a){"use strict";var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",[a("topStatus"),a("pictureTailor",{attrs:{pictureSrc:"http://img4.imgtn.bdimg.com/it/u=1688026885,2773767715&fm=26&gp=0.jpg"}})],1)},n=[];a.d(i,"a",function(){return e}),a.d(i,"b",function(){return n})},f337:function(t,i,a){"use strict";a.r(i);var e=a("6758"),n=a.n(e);for(var r in e)"default"!==r&&function(t){a.d(i,t,function(){return e[t]})}(r);i["default"]=n.a}}]);