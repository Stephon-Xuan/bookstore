(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-issue-issueUsedbook"],{"06a7":function(t,e,i){"use strict";i.r(e);var a=i("3500"),n=i("0e1d");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("6616");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"0f64d55f",null);e["default"]=r.exports},"0e1d":function(t,e,i){"use strict";i.r(e);var a=i("dd71"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"10d6":function(t,e,i){var a=i("bf15");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("fa4fb284",a,!0,{sourceMap:!1,shadowMode:!1})},"2c46":function(t,e,i){"use strict";i.r(e);var a=i("5609"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},3201:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reqBookIssue=e.reqNewIssue=e.reqBookSort=e.reqBookSortList=e.reqissueUsedbook=e.reqAvatorImg=e.reqModifiedInfo=e.reqUserInfo=e.reqAccountLogin=e.reqRegister=void 0;var a=i("b41d"),n="http://49.234.200.228:8080/shuzhai",s=function(t){return a.ajax.post(n+"/user/register",t)};e.reqRegister=s;var o=function(t){return a.ajax.post(n+"/user/login",t)};e.reqAccountLogin=o;var r=function(t){return a.ajax.get(n+"/userinfo",t)};e.reqUserInfo=r;var u=function(t){return a.ajax.post(n+"/userinfo/modified",t)};e.reqModifiedInfo=u;var c=function(t){return a.ajax.post(n+"/userinfo/picture",t)};e.reqAvatorImg=c;var l=function(t){return a.ajax.get(n+"/book/addBook",t)};e.reqissueUsedbook=l;var d=function(){return a.ajax.get(n+"/book/categoryInfo")};e.reqBookSortList=d;var f=function(t){return a.ajax.get(n+"/book/classifiedBook",t)};e.reqBookSort=f;var g=function(t){return a.ajax.get(n+"/book/latestBook",t)};e.reqNewIssue=g;var v=function(t){return a.ajax.get(n+"/book/publishedBooks",t)};e.reqBookIssue=v},3257:function(t,e,i){"use strict";i.r(e);var a=i("36fc"),n=i("bb83");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("9762");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"33c8c269",null);e["default"]=r.exports},3500:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"imageUploadContainer"},[i("v-uni-view",{staticClass:"imageUploadList"},[t._l(t.imageListData,function(e,a){return i("v-uni-view",{key:a,staticClass:"imageItem"},[i("v-uni-image",{class:{dragging:t.isDragging(a)},attrs:{src:e,draggable:"true","data-index":a},on:{touchstart:function(e){e=t.$handleEvent(e),t.start(e)},touchmove:function(e){e.stopPropagation(),e.preventDefault(),e=t.$handleEvent(e),t.move(e)},touchend:function(e){e=t.$handleEvent(e),t.stop(e)},click:function(e){e=t.$handleEvent(e),t.previewImage(e)}}}),t.isShowDel?i("v-uni-view",{staticClass:"imageDel",attrs:{"data-index":a},on:{click:function(e){e=t.$handleEvent(e),t.deleteImage(e)}}},[t._v("x")]):t._e()],1)}),t.isShowAdd?i("v-uni-view",{staticClass:"imageUpload flex-cc",on:{click:function(e){e=t.$handleEvent(e),t.selectImage(e)}}},[t._v("+")]):t._e()],2),t.showMoveImage?i("v-uni-image",{staticClass:"moveImage",style:{left:t.posMoveImageLeft,top:t.posMoveImageTop},attrs:{src:t.moveImagePath}}):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"36fc":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"main flex-cc"},[i("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.radioChange(e)}}},t._l(t.items,function(e,a){return i("v-uni-label",{key:e.category,staticClass:"label flex-cc"},[i("v-uni-view",{staticClass:"margin-right-lg"},[i("v-uni-radio",{staticClass:"radio-size",attrs:{value:e.category,checked:a===t.current}})],1),i("v-uni-view",{staticClass:"text-lg"},[t._v(t._s(e.category))])],1)}),1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"3c51":function(t,e,i){"use strict";var a=i("10d6"),n=i.n(a);n.a},"3f72":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */\n/* 此页面列表公共样式 */.list[data-v-40a9e55c]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:%?20?% 0;font-family:MicrosoftYaHei;font-size:%?28?%;font-weight:400;font-stretch:normal;line-height:%?40?%;letter-spacing:%?2?%}\n/* 图形 */.arrow[data-v-40a9e55c]{height:%?36?%;width:%?36?%}.cirle[data-v-40a9e55c]{margin:0 %?4?%;height:%?40?%;width:%?40?%}.address[data-v-40a9e55c]{height:%?36?%;width:%?36?%}\n/* 字体颜色 */.text-color-grey[data-v-40a9e55c]{color:#c4c4c4}\n/* 内容 */.main[data-v-40a9e55c]{padding:%?20?% %?40?%}.view-wrap[data-v-40a9e55c]{background-color:#f5f5f6;padding:%?10?%;border-radius:%?5?%}.view-wrap-active[data-v-40a9e55c]{background-color:#0081ff;color:#fff}\n/* 弹窗 */.popBox[data-v-40a9e55c]{position:absolute;z-index:2;top:30%;width:100%;padding:%?0?% %?100?%}.win[data-v-40a9e55c]{padding:%?20?%;background-color:#fff;border-radius:%?24?%}\n/* 价格 */.price-input[data-v-40a9e55c]{width:%?60?%;border-bottom:#d81e06 %?2?% solid}\n/* 交易方式 */',""])},"51c2":function(t,e,i){var a=i("9cb6");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("22e3731c",a,!0,{sourceMap:!1,shadowMode:!1})},"53b7":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"uni-page-body[data-v-40a9e55c]{background-color:#fff}body.?%PAGE?%[data-v-40a9e55c]{background-color:#fff}",""])},5609:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{showDashBg:{type:Boolean,default:!1}},data:function(){return{}},methods:{showDash:function(){var t=!this.showDashBg;this.$emit("isHide",t)}}};e.default=a},"5df3":function(t,e,i){"use strict";var a=i("02f4")(!0);i("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=a(e,i),this._i+=t.length,{value:t,done:!1})})},6616:function(t,e,i){"use strict";var a=i("a9c2"),n=i.n(a);n.a},"7e51":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{class:t.showDashBg?"bg-dash":"",on:{click:function(e){e=t.$handleEvent(e),t.showDash(e)}}})},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"8f07":function(t,e,i){var a=i("3f72");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("541dddf2",a,!0,{sourceMap:!1,shadowMode:!1})},9103:function(t,e,i){"use strict";i.r(e);var a=i("9a1d"),n=i("d578");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("e19b"),i("e799");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"40a9e55c",null);e["default"]=r.exports},9762:function(t,e,i){"use strict";var a=i("51c2"),n=i.n(a);n.a},9837:function(t,e,i){"use strict";i.r(e);var a=i("7e51"),n=i("2c46");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("3c51");var o=i("2877"),r=Object(o["a"])(n["default"],a["a"],a["b"],!1,null,"bedd4314",null);e["default"]=r.exports},"99e0":function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("795b")),s=a(i("56cc")),o=a(i("a998")),r=a(i("06a7")),u=a(i("d256")),c=a(i("b75b")),l=a(i("9837")),d=a(i("3257")),f=(i("3201"),{components:{topStatus:s.default,topBar:o.default,imgUpload:r.default,contentInput:u.default,issueBotton:c.default,bgDash:l.default,radioBox:d.default},data:function(){return{isCircleSel:!1,fashionIndex:0,isShow:!1,isFashion:!1,radioValue:"",priceValue:"",submitData:{bookName:" ",bookIntro:" ",pubRegion:" ",price:" ",category:" ",tradingway:"自提",userId:""},imageList:[],enableDel:!1,enableAdd:!1,enableDrag:!1,limitNumber:9,imageData:[],formData:{userId:2},faShionList:[{title:"自提"},{title:"同城面交"},{title:"邮寄"}],winViewShow:!1}},methods:{onKeyInput:function(t){this.submitData.bookName=t.target.value},getContent:function(t){this.submitData.bookIntro=t},popUpWin:function(t){this.isShow=!this.isShow,"分类"===t&&(this.winViewShow=!1),"价格"===t&&(this.winViewShow=!0)},hideDash:function(t){this.isShow=t},getRadio:function(t){this.submitData.category=t.radioIndex,this.radioValue=t.radioItem},circleClick:function(){this.isCircleSel=!this.isCircleSel},priceInput:function(t){this.submitData.price=t.target.value,this.priceValue=t.target.value},fashion:function(t,e){this.isFashion=!this.isFashion,this.fashionIndex=e,this.submitData.tradingway=t.title},getImageData:function(t){this.imageList=t,console.log("返回的图片信息",this.imageList)},submitIssue:function(){var t=this,e=uni.getStorageSync("globalUser");t.submitData.userId=e,console.log(t.submitData),console.log("图片数据",this.imageData);var i=this.imageData[0];new n.default(function(e,a){uni.uploadFile({url:"http://49.234.200.228:8080/shuzhai/book",name:"picture",filePath:i,formData:t.submitData,success:function(t){console.log(t),console.log("成功发布")}})})}}});e.default=f},"9a1d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("top-status"),i("top-bar",{attrs:{title:"发布二手书",showBottom:!0}}),i("v-uni-view",{staticClass:"main"},[i("v-uni-view",{staticClass:"list border-bm-small text-color-grey"},[i("v-uni-view",[t._v("书籍名称")]),i("v-uni-input",{ref:"inputTitle",attrs:{value:"",type:"text",maxlength:"14"},on:{input:function(e){e=t.$handleEvent(e),t.onKeyInput(e)}}}),i("v-uni-image",{staticClass:"arrow",attrs:{src:"/static/images/list/scan.png"}})],1),i("content-input",{on:{contentInput:function(e){e=t.$handleEvent(e),t.getContent(e)}}}),i("img-upload",{attrs:{value:t.imageData,showUploadProgress:!1,limit:t.limitNumber},on:{getImage:function(e){e=t.$handleEvent(e),t.getImageData(e)}}}),i("v-uni-view",{staticClass:"list border-bm-small"},[i("v-uni-view",{staticClass:"flex justify-between align-center"},[i("v-uni-image",{staticClass:"address",attrs:{src:"/static/images/list/address.png"}}),i("v-uni-text",{staticClass:"padding-lr-4"},[t._v("广州")]),i("v-uni-text",{staticClass:"padding-lr-4"},[t._v("珠海")]),i("v-uni-text",{staticClass:"padding-lr-4"},[t._v("香洲区")])],1),i("v-uni-view",{staticClass:"flex justify-between align-center"},[i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:!t.isCircleSel,expression:"!isCircleSel"}],staticClass:"cirle",attrs:{src:"/static/images/list/circle.png"},on:{click:function(e){e=t.$handleEvent(e),t.circleClick(e)}}}),i("v-uni-image",{directives:[{name:"show",rawName:"v-show",value:t.isCircleSel,expression:"isCircleSel"}],staticClass:"cirle",attrs:{src:"/static/images/list/circle_sel.png"},on:{click:function(e){e=t.$handleEvent(e),t.circleClick(e)}}}),t._v("全新宝贝")],1)],1),i("v-uni-view",{staticClass:"list border-bm-small"},[i("v-uni-view",[t._v("价格")]),""!=t.priceValue?i("v-uni-view",[t._v(t._s(t.priceValue)+"元")]):t._e(),i("v-uni-image",{staticClass:"arrow",attrs:{src:"/static/images/arrow/rightArrow.png"},on:{click:function(e){e=t.$handleEvent(e),t.popUpWin("价格")}}})],1),i("v-uni-view",{staticClass:"list  border-bm-small"},[i("v-uni-view",[t._v("分类")]),i("v-uni-view",[t._v(t._s(t.radioValue))]),i("v-uni-image",{staticClass:"arrow",attrs:{src:"/static/images/arrow/rightArrow.png"},on:{click:function(e){e=t.$handleEvent(e),t.popUpWin("分类")}}})],1),i("v-uni-view",{staticClass:"list  border-bm-small "},[i("v-uni-view",{staticClass:"flex-bc"},[t._v("交易方式")]),i("v-uni-view",{staticClass:"flex-bc"},t._l(t.faShionList,function(e,a){return i("v-uni-view",{key:a},[i("v-uni-view",{staticClass:"view-wrap magin-lr-4",class:a===t.fashionIndex?"view-wrap-active":"",on:{click:function(i){i=t.$handleEvent(i),t.fashion(e,a)}}},[t._v(t._s(e.title))])],1)}),1)],1),i("v-uni-view",{on:{click:function(e){e=t.$handleEvent(e),t.submitIssue(e)}}},[i("issue-botton")],1)],1),i("bg-dash",{attrs:{showDashBg:t.isShow},on:{isHide:function(e){e=t.$handleEvent(e),t.hideDash(e)}}}),t.isShow?i("v-uni-view",{staticClass:"popBox"},[i("v-uni-view",{staticClass:"win"},[t.winViewShow?t._e():i("v-uni-view",[i("v-uni-view",[t._v("分类")]),i("radioBox",{on:{radioContent:function(e){e=t.$handleEvent(e),t.getRadio(e)}}})],1),t.winViewShow?i("v-uni-view",[i("v-uni-view",[t._v("价格")]),i("v-uni-view",{staticClass:"margin-sm flex-cc"},[t._v("价格："),i("v-uni-view",{staticClass:"price-input"},[i("v-uni-input",{attrs:{value:"",type:"number",maxlength:"3"},on:{input:function(e){e=t.$handleEvent(e),t.priceInput(e)}}})],1),t._v("元")],1),i("v-uni-view",{staticClass:"margin-sm flex-cc"},[t._v("折扣："),i("v-uni-view",{staticClass:"price-input"},[i("v-uni-input",{attrs:{value:"",type:"number",maxlength:"1"},on:{input:function(e){e=t.$handleEvent(e),t.dicInput(e)}}})],1),t._v("折")],1)],1):t._e()],1)],1):t._e()],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"9cb6":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".main[data-v-33c8c269]{width:100%}.label[data-v-33c8c269]{width:100%;padding:%?10?%}.radio-size[data-v-33c8c269]{\r\n\t/* height: 40upx;\n\twidth: 40upx; */}",""])},a9c2:function(t,e,i){var a=i("cc1b");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4cd8d2da",a,!0,{sourceMap:!1,shadowMode:!1})},bb83:function(t,e,i){"use strict";i.r(e);var a=i("fe39"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},bf15:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".bg-dash[data-v-bedd4314]{position:absolute;width:100%;height:100%;top:0;left:0;background-color:rgba(0,0,0,.15);z-index:1}",""])},cc1b:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".imageUploadContainer[data-v-0f64d55f]{padding:%?10?% %?5?%;margin:%?10?% %?5?%}.dragging[data-v-0f64d55f]{-webkit-transform:scale(1.2);-ms-transform:scale(1.2);transform:scale(1.2)}.imageUploadList[data-v-0f64d55f]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.imageItem[data-v-0f64d55f],.imageUpload[data-v-0f64d55f]{width:%?160?%;height:%?160?%;margin:%?10?%}.imageDel[data-v-0f64d55f]{position:relative;left:%?120?%;bottom:%?165?%;background-color:rgba(0,0,0,.5);width:%?36?%;text-align:center;line-height:%?35?%;border-radius:%?17?%;color:#fff;font-size:%?30?%;padding-bottom:%?2?%}.imageItem uni-image[data-v-0f64d55f],.moveImage[data-v-0f64d55f]{width:%?160?%;height:%?160?%;border-radius:%?8?%}.imageUpload[data-v-0f64d55f]{line-height:%?130?%;text-align:center;font-size:%?150?%;color:#d9d9d9;border:1px solid #d9d9d9;border-radius:%?8?%}.moveImage[data-v-0f64d55f]{position:absolute}",""])},d578:function(t,e,i){"use strict";i.r(e);var a=i("99e0"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},dd71:function(t,e,i){"use strict";var a=i("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("795b"));i("ac6a"),i("5df3");var s={name:"robby-image-upload",props:["value","enableDel","enableAdd","enableDrag","serverUrl","formData","header","limit","fileKeyName","showUploadProgress","serverUrlDeleteImage"],data:function(){return{imageBasePos:{x0:-1,y0:-1,w:-1,h:-1},showMoveImage:!1,moveImagePath:"",moveLeft:0,moveTop:0,deltaLeft:0,deltaTop:0,dragIndex:null,targetImageIndex:null,imageList:[],isDestroyed:!1}},mounted:function(){this.imageList=this.value,!1===this.showUploadProgress?this.showUploadProgress=!1:this.showUploadProgress=!0},destroyed:function(){this.isDestroyed=!0},computed:{imageListData:function(){if(this.value)return this.value},posMoveImageLeft:function(){return this.moveLeft+"px"},posMoveImageTop:function(){return this.moveTop+"px"},isShowDel:function(){return!1!==this.enableDel},isShowAdd:function(){return!1!==this.enableAdd&&!(this.limit&&this.imageList.length>=this.limit)},isDragable:function(){return!1!==this.enableDrag}},methods:{selectImage:function(){var t=this;t.imageList||(t.imageList=[]),uni.chooseImage({count:t.limit?t.limit-t.imageList.length:999,success:function(e){var i=e.tempFilePaths;if(t.limit){var a=t.limit-t.imageList.length;if(a<i.length)return void uni.showToast({title:"图片总数限制为"+t.limit+"张，当前还可以选"+a+"张",icon:"none",mask:!1,duration:2e3})}if(t.serverUrl){uni.showToast({title:"上传进度：0/"+i.length,icon:"none",mask:!1});for(var s=t.imageList.length-i.length,o=[],r=(t.fileKeyName&&t.fileKeyName,0),u=function(e){console.log("上传"),o.push(new n.default(function(a,n){var o=s+e;uni.uploadFile({url:t.serverUrl,formData:{bookName:"啦啦啦",bookIntro:"嘻嘻",pubRegion:"北京",price:"14",category:"小说",tradingWay:"自提/同城面交/邮寄"},filePath:i[e],name:"picture",success:function(e){if(console.log(e),200===e.statusCode){if(t.isDestroyed)return;r++,t.showUploadProgress&&uni.showToast({title:"上传进度："+r+"/"+i.length,icon:"none",mask:!1,duration:500}),console.log("success to upload image: "+e.data),a(e.data)}else console.log("fail to upload image:"+e.data),n("fail to upload image:"+o)},fail:function(t){console.log("fail to upload image:"+t),n("fail to upload image:"+o)}})}))},c=0;c<i.length;c++)u(c);n.default.all(o).then(function(e){if(!t.isDestroyed){for(var a=0;a<e.length;a++)t.imageList.push(e[a]);t.$emit("add",{currentImages:i,allImages:t.imageList}),t.$emit("input",t.imageList)}})}else{for(c=0;c<i.length;c++)t.imageList.push(i[c]);t.$emit("add",{currentImages:i,allImages:t.imageList}),t.$emit("getImage",t.imageList)}}})},deleteImage:function(t){var e=t.currentTarget.dataset.index,i=this.imageList[e];this.imageList.splice(e,1),this.serverUrlDeleteImage&&uni.request({url:this.serverUrlDeleteImage,method:"GET",data:{imagePath:i},success:function(t){console.log(t.data)}}),this.$emit("delete",{currentImage:i,allImages:this.imageList}),this.$emit("input",this.imageList)},previewImage:function(t){var e=t.currentTarget.dataset.index;uni.previewImage({current:this.imageList[e],indicator:"number",loop:"true",urls:this.imageList})},initImageBasePos:function(){var t=.024,e=this;uni.getSystemInfo({success:function(i){var a=i.screenWidth,n=Math.ceil(t*a),s=Math.ceil((a-2*n)/4);e.imageBasePos.x0=n,e.imageBasePos.w=s,e.imageBasePos.h=s}})},findOverlapImage:function(t,e){var i=Math.floor((t-this.imageBasePos.x0)/this.imageBasePos.w),a=Math.floor((e-this.imageBasePos.y0)/this.imageBasePos.h),n=4*a+i;return n},isDragging:function(t){return this.dragIndex===t},start:function(t){if(console.log(this.isDragable),this.isDragable){if(this.dragIndex=t.currentTarget.dataset.index,this.moveImagePath=this.imageList[this.dragIndex],this.showMoveImage=!0,-1===this.imageBasePos.y0){this.initImageBasePos();var e=Math.floor(this.dragIndex/4)*this.imageBasePos.h,i=t.currentTarget.offsetTop;this.imageBasePos.y0=i-e}this.moveLeft=t.target.offsetLeft,this.moveTop=t.target.offsetTop}},move:function(t){if(this.isDragable){var e=t.touches[0];this.targetImageIndex=this.findOverlapImage(e.clientX,e.clientY),0===this.deltaLeft&&(this.deltaLeft=e.clientX-this.moveLeft,this.deltaTop=e.clientY-this.moveTop),this.moveLeft=e.clientX-this.deltaLeft,this.moveTop=e.clientY-this.deltaTop}},stop:function(t){this.isDragable&&(null!==this.dragIndex&&null!==this.targetImageIndex&&(this.targetImageIndex<0&&(this.targetImageIndex=0),this.targetImageIndex>=this.imageList.length&&(this.targetImageIndex=this.imageList.length-1),this.dragIndex!==this.targetImageIndex&&(this.imageList[this.dragIndex]=this.imageList[this.targetImageIndex],this.imageList[this.targetImageIndex]=this.moveImagePath)),this.dragIndex=null,this.targetImageIndex=null,this.deltaLeft=0,this.deltaTop=0,this.showMoveImage=!1,this.$emit("input",this.imageList))}}};e.default=s},e19b:function(t,e,i){"use strict";var a=i("e92d"),n=i.n(a);n.a},e799:function(t,e,i){"use strict";var a=i("8f07"),n=i.n(a);n.a},e92d:function(t,e,i){var a=i("53b7");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("94340b5e",a,!0,{sourceMap:!1,shadowMode:!1})},fe39:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{items:[{categoryId:1,category:"文学小说"},{categoryId:2,category:"人文社科"},{categoryId:3,category:"经管励志"},{categoryId:4,category:"生活艺术"},{categoryId:5,category:"生活百科"},{categoryId:6,category:"推理悬疑"},{categoryId:7,category:"科技科普"},{categoryId:8,category:"儿童漫画"}],current:0}},methods:{radioChange:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].category===t.target.value){this.current=e;break}var i={radioItem:this.items[this.current].category,radioIndex:this.current+1};this.$emit("radioContent",i)}}};e.default=a}}]);